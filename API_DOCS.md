# Документація API для бекенду прогнозування фінансового ринку

Цей документ описує API бекенду системи для прогнозування руху фінансового ринку на основі VWAP стратегії.

## Основні ендпоінти

### Активи

- `GET /api/v1/assets` - Отримати список усіх доступних активів
- `GET /api/v1/assets/{asset}/data` - Отримати OHLCV дані для конкретного активу (Open, High, Low, Close)
  - Query параметри:
    - `limit` - Кількість останніх записів для повернення (за замовчуванням 100)
#### Приклад asset:
- `Binance_BTC_Spot_binance_spot_1d`
- `Coinbase_ETH_Spot_coinbase_spot_1h`
- `OKX_Futures_okx_futures_5m`
### Стратегії

- `GET /api/v1/strategies` - Отримати список усіх доступних стратегій
- `GET /api/v1/strategies/vwap/signals/{asset}` - Отримати сигнали VWAP стратегії для конкретного активу
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)
- `GET /api/v1/strategies/vwap/parameters` - Отримати параметри VWAP стратегії
- `GET /api/v1/strategies/vwap/calculation/{asset}` - Отримати розрахунок VWAP для конкретного активу
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)

### Бектестинг

- `GET /api/v1/backtest/{asset}` - Запустити бектест для конкретного активу
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)
    - `initial_capital` - Початковий капітал (за замовчуванням 10000)
- `GET /api/v1/backtest/metrics/{asset}` - Отримати метрики продуктивності для конкретного активу
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)
- `GET /api/v1/backtest/compare` - Порівняти продуктивність усіх активів
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)

## Кешування

Усі ендпоінти використовують кешування з часом життя (TTL) 5 хвилин для підвищення продуктивності. Це означає, що повторні запити з однаковими параметрами протягом 5 хвилин повернуть кешований результат.

## Запуск сервера

```bash
uvicorn server:app --reload
```

Сервер за замовчуванням запускається на порту 8000. Swagger документація доступна за адресою `http://localhost:8000/docs`.