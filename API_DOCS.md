# Документація API для бекенду прогнозування фінансового ринку

Цей документ описує API бекенду системи для прогнозування руху фінансового ринку на основі різних стратегій.

## Основні ендпоінти

### Активи

- `GET /` (root) - Отримати список усіх доступних активів
- `GET /{asset}/data` - Отримати OHLCV дані для конкретного активу (Open, High, Low, Close)
  - Query параметри:
      - `limit` - Кількість останніх записів для повернення (за замовчуванням 100)
- `GET /{asset}/info` - Отримати діагностичні дані для конкретного активу (Start Date, End Date, Mean Price, Min Price, Max Price, Total Volume)
- `GET /exchanges` - Отримати список наявних бірж у датасеті
- `GET /timeframes` - Отримати список наявних таймфреймів у датасеті
- `GET /compare` - Порівняти результати конкретної стратегії на всіх активах
  - Query параметри:
      - `strategy_id` - Стратегія для порівняння (за замовчуванням vwap_ib)
- `GET /{asset}` - Запустити бектест для конкретного активу
#### Приклад asset:
- `Binance_Futures_BTC_1d`
- `Coinbase_Spot_ETH_1h`
- `OKX_Futures_BTC_5m`
  
### Стратегії

- `GET /api/v1/strategies` - Отримати список усіх доступних стратегій
- `GET /api/v1/strategies/{strategy_id}` - Отримати детальну інформацію щодо конкретної стратегії
- `GET /api/v1/strategies/{strategy_id}/signals/{asset}` - Отримати сигнали обраної стратегії для конкретного активу
- `POST /api/v1/strategies/train/{strategy_id}/{asset}` - Натренувати модель з конкретною стратегією для конкретного активу


### Візуалізація

- `GET /api/v1/visualization/strategy-dashboard/{asset}` - Візуалізувати продуктивність стратегіq для активу
  - Query параметри:
    - `days` - Кількість останніх записів для аналізу (за замовчуванням 30)
    - `initial_capital` - Початковий капітал (за замовчуванням 10000)
- `GET /api/v1/visualization/available-strategies` - Отримати список можливих ML стратегій
  - Query параметри:
    - `asset` - Актив на якому відбувається перевірка (за замовчуванням Cryptocom_Spot_BTC_1h)
- `GET /api/v1/visualization/confidence-analysis/{strategy_id}/{asset}` - Отримати обрахунок прибутку для конкретному активу з обраною стратегією
  - Query параметри:
    - `lookback` - Кількість останніх записів для аналізу (за замовчуванням 100)

- `GET /api/v1/visualization/signal-timeline/{strategy_id}/{asset}` - Отримати таймлайн сигналів з ML-оцінкою для стратегії та активу
  - Query параметри:
    - `days` — Кількість днів для аналізу (за замовчуванням 30)

- `GET /api/v1/visualization/test-serialization/{asset}` - Тестовий ендпоінт для перевірки серіалізації даних для активу

## Запуск сервера

```bash
python run_server.py
```

Сервер за замовчуванням запускається на порту 8000. Swagger документація доступна за адресою `http://localhost:8000/docs`.
